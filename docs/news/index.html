<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • nodbi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nodbi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.13.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/nodbi-overview.html">nodbi - package overview</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/nodbi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/ropensci/nodbi/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.13.0" id="nodbi-0130">nodbi 0.13.0<a class="anchor" aria-label="anchor" href="#nodbi-0130"></a></h2><p class="text-muted">CRAN release: 2025-06-03</p>
<div class="section level3">
<h3 id="improvements-0-13-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-13-0"></a></h3>
<ul><li>Prepare <code><a href="../reference/docdb_query.html">docdb_query()</a></code> for <code>duckdb</code> 1.3.0 (e.g., use new <code>json_tree</code> function)</li>
<li>Move warning for non-persistent connections to <code>src_sqlite</code>, <code>src_duckdb</code> calls</li>
<li>Harmomise printing connections</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12.0" id="nodbi-0120">nodbi 0.12.0<a class="anchor" aria-label="anchor" href="#nodbi-0120"></a></h2><p class="text-muted">CRAN release: 2025-03-30</p>
<div class="section level3">
<h3 id="improvements-0-12-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-12-0"></a></h3>
<ul><li>Use <code>duckdb</code> internal function for writing NDJSON to file</li>
<li>Removing message about RSQLite handling NDJSON file name as value</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.11.0" id="nodbi-0110">nodbi 0.11.0<a class="anchor" aria-label="anchor" href="#nodbi-0110"></a></h2><p class="text-muted">CRAN release: 2024-11-10</p>
<div class="section level3">
<h3 id="potentially-breaking-changes-0-11-0">Potentially breaking changes<a class="anchor" aria-label="anchor" href="#potentially-breaking-changes-0-11-0"></a></h3>
<ul><li>
<code><a href="../reference/docdb_query.html">docdb_query()</a></code> modified so that it returns a data frame, in which each column has just one type (atomic or list) across all the rows of the respective column (previously, e.g. a mix of single-item lists simplified to atomic values and of multi-item lists were returned)</li>
</ul></div>
<div class="section level3">
<h3 id="changes-0-11-0">Changes<a class="anchor" aria-label="anchor" href="#changes-0-11-0"></a></h3>
<ul><li>
<code><a href="../reference/docdb_create.html">docdb_create()</a></code> and <code><a href="../reference/docdb_update.html">docdb_update()</a></code> for SQLite and PostgreSQL (only if on localhost) now import directly and fast from <code>ndjson</code> files, in analogy to DuckDB (needs RSQLite &gt;= 2.3.7.9014)</li>
<li>Refactored <code><a href="../reference/docdb_update.html">docdb_update()</a></code> for <code><a href="../reference/src_couchdb.html">src_couchdb()</a></code>
</li>
<li>Add message from <code><a href="../reference/docdb_create.html">docdb_create()</a></code> if a data frame has column names with a dot(s) since dots in <code>nodbi</code> are used for <code>JSON</code> dot paths</li>
<li>Add code to check database backend version requirements</li>
<li>Adding info if PostgreSQL database is not yet created</li>
<li>Factored out further code</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.7" id="nodbi-0107">nodbi 0.10.7<a class="anchor" aria-label="anchor" href="#nodbi-0107"></a></h2><p class="text-muted">CRAN release: 2024-09-29</p>
<div class="section level3">
<h3 id="changes-0-10-7">Changes<a class="anchor" aria-label="anchor" href="#changes-0-10-7"></a></h3>
<ul><li>uses new features of <code>duckdb</code> 1.11.0 for refactoring of <code><a href="../reference/docdb_query.html">docdb_query()</a></code>, accelerating queries</li>
<li>accelerated creating and updating from file</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.6" id="nodbi-0106">nodbi 0.10.6<a class="anchor" aria-label="anchor" href="#nodbi-0106"></a></h2><p class="text-muted">CRAN release: 2024-07-25</p>
<div class="section level3">
<h3 id="changes-0-10-6">Changes<a class="anchor" aria-label="anchor" href="#changes-0-10-6"></a></h3>
<ul><li>partial refactoring of <code><a href="../reference/docdb_query.html">docdb_query()</a></code>, accelerating queries up to 20-fold for SQLite, DuckDB, and accelerating <code>listfields = TRUE</code> several times for DuckDB</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fix-0-10-6">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-10-6"></a></h3>
<ul><li>address <code><a href="../reference/docdb_query.html">docdb_query()</a></code> not working for cases when dot paths had no counts between fields</li>
<li>address wrong database size printing</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.5" id="nodbi-0105">nodbi 0.10.5<a class="anchor" aria-label="anchor" href="#nodbi-0105"></a></h2><p class="text-muted">CRAN release: 2024-06-30</p>
<div class="section level3">
<h3 id="bug-fix-0-10-5">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-10-5"></a></h3>
<ul><li>stop if query is invalid even though JSON is valid</li>
<li>print information also for MongoDB connection object</li>
</ul></div>
<div class="section level3">
<h3 id="changes-0-10-5">Changes<a class="anchor" aria-label="anchor" href="#changes-0-10-5"></a></h3>
<ul><li>code cleaning, parameters checking</li>
<li>document that <code>$regex</code> in <code><a href="../reference/docdb_query.html">docdb_query()</a></code> is case-sensitive</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.4" id="nodbi-0104">nodbi 0.10.4<a class="anchor" aria-label="anchor" href="#nodbi-0104"></a></h2><p class="text-muted">CRAN release: 2024-03-06</p>
<div class="section level3">
<h3 id="bug-fix-0-10-4">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-10-4"></a></h3>
<ul><li>re-adding field formatting for <code>docdb_query(src, key, query, listfields = TRUE, limit = &lt;integer&gt;)</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.3" id="nodbi-0103">nodbi 0.10.3<a class="anchor" aria-label="anchor" href="#nodbi-0103"></a></h2><p class="text-muted">CRAN release: 2024-03-03</p>
<div class="section level3">
<h3 id="bug-fix-0-10-3">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-10-3"></a></h3>
<ul><li>minor fixes to <code>limit</code> in <code>docdb_query(src, key, query, listfields = TRUE, limit = &lt;integer&gt;)</code> and speed up</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.2" id="nodbi-0102">nodbi 0.10.2<a class="anchor" aria-label="anchor" href="#nodbi-0102"></a></h2><p class="text-muted">CRAN release: 2024-02-24</p>
<div class="section level3">
<h3 id="changes-0-10-2">Changes<a class="anchor" aria-label="anchor" href="#changes-0-10-2"></a></h3>
<ul><li>added vignette</li>
<li>added tests internal functions, verbose option</li>
<li>added caching to GitHub action workflow</li>
<li>added missing fields validity check for duckdb</li>
<li>more robust parameter checks in <code>docdb_query</code> and <code>docdb_update</code>
</li>
<li>ensure <code>NULL</code> also for all MongoDB returns</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-10-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-10-2"></a></h3>
<ul><li>docTyp’ed src.R</li>
<li>minify <code>JSON</code> with Elasticsearch in <code>docdb_update</code>
</li>
<li>moved local variable out of UseMethod in <code>docdb_query</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.1" id="nodbi-0101">nodbi 0.10.1<a class="anchor" aria-label="anchor" href="#nodbi-0101"></a></h2><p class="text-muted">CRAN release: 2024-02-04</p>
<div class="section level3">
<h3 id="bug-fix-0-10-1">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-10-1"></a></h3>
<ul><li>make <code><a href="../reference/docdb_get.html">docdb_get()</a></code> work again for <code><a href="../reference/src_sqlite.html">src_sqlite()</a></code> by casting <code>JSONB</code> back to <code>JSON</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.0" id="nodbi-0100">nodbi 0.10.0<a class="anchor" aria-label="anchor" href="#nodbi-0100"></a></h2><p class="text-muted">CRAN release: 2024-01-21</p>
<div class="section level3">
<h3 id="deprecated-0-10-0">Deprecated<a class="anchor" aria-label="anchor" href="#deprecated-0-10-0"></a></h3>
<ul><li>empty parameter <code>query</code> now triggers a warning as it should be a valid JSON string; change <code>query = ""</code> into <code>query = "{}"</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="changes-0-10-0">Changes<a class="anchor" aria-label="anchor" href="#changes-0-10-0"></a></h3>
<ul><li>adapted to use new, faster <code>JSONB</code> functions in <code>SQLite</code> 3.45.0 (<code>RSQLite</code> &gt;= 2.3.4.9005)</li>
<li>refactored parts of <code><a href="../reference/docdb_create.html">docdb_create()</a></code> to speed up handling large data frames and lists</li>
<li>made Elasticsearch to immediately refresh index after <code><a href="../reference/docdb_create.html">docdb_create()</a></code> and other functions</li>
<li>
<code><a href="../reference/docdb_update.html">docdb_update()</a></code> now reports which records failed to update and then continues</li>
<li>
<code><a href="../reference/docdb_delete.html">docdb_delete()</a></code> now returns harmonised success logical value across backends</li>
</ul></div>
<div class="section level3">
<h3 id="potentially-breaking-change-0-10-0">Potentially breaking change<a class="anchor" aria-label="anchor" href="#potentially-breaking-change-0-10-0"></a></h3>
<p><code><a href="../reference/docdb_query.html">docdb_query()</a></code> reimplementation to have the same functionality across all databases (DuckDB, SQLite, PostgreSQL, MongoDB, Elasticsearch, CouchDB); even though the API and unit tests remained, user provisions may break e.g. to handle return values of databases that previously were incompletely implemented (in particular Elasticsearch and CouchDB). Details:</p>
<ul><li>
<code>query</code> can now be complex (nested, various operators) and is digested with a Javascript helper</li>
<li>
<code>fields</code> can now be nested fields (e.g., <code>friends.name</code>) to directly return values lifted from the nested field</li>
<li>
<code>listfields</code> parameter newly implemented to return dot paths for all fields of all or selected documents in collection</li>
<li>expanded use of <code>jq</code> via <code>jqr</code> for mangling parameters, selecting documents, filtering fields and lifting nested field values</li>
<li>if no data are found, returns <code>NULL</code> (previously some backends returned an empty data frame)</li>
<li>
<code>docdb_query(src, key, query = "{}", fields = "{}")</code> now delegates to <code>docdb_get(src, key)</code>
</li>
<li>
<code>_id</code> is always returned, unless specified with <code>"_id": 0</code> in parameter <code>fields</code>
</li>
<li>for <code>scr_postgres</code>, only fewer than 50 fields if any can be specified in <code>fields</code>
</li>
<li>for <code>src_sqlite</code>, minimise the use of the time-costly <code>json_tree</code>
</li>
<li>workaround for path collisions of MongoDB</li>
<li>some acceleration of <code><a href="../reference/docdb_query.html">docdb_query()</a></code>
</li>
<li>factored out common code</li>
<li>expanded testing</li>
<li>updated docs</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.8" id="nodbi-098">nodbi 0.9.8<a class="anchor" aria-label="anchor" href="#nodbi-098"></a></h2><p class="text-muted">CRAN release: 2023-09-23</p>
<div class="section level3">
<h3 id="bug-fixes-0-9-8">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-8"></a></h3>
<ul><li>escaping newline character within a JSON value, in <code>docdb_*()</code> functions</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.7" id="nodbi-097">nodbi 0.9.7<a class="anchor" aria-label="anchor" href="#nodbi-097"></a></h2><p class="text-muted">CRAN release: 2023-09-17</p>
<div class="section level3">
<h3 id="changes-0-9-7">Changes<a class="anchor" aria-label="anchor" href="#changes-0-9-7"></a></h3>
<ul><li>changed <code><a href="../reference/docdb_update.html">docdb_update()</a></code> to directly use NDJSON from file for duckdb</li>
<li>cleaned up unnecessary code in <code><a href="../reference/docdb_create.html">docdb_create()</a></code>
</li>
<li>no more using transactions with <code><a href="../reference/src_duckdb.html">src_duckdb()</a></code>
</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-7">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-7"></a></h3>
<ul><li>regression error from not specifying top-level jq script</li>
<li>corrected and improve field selection in <code><a href="../reference/docdb_query.html">docdb_query()</a></code>
</li>
<li>corrected test exceptions for mongodb, updated GitHub Actions, expanded tests</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.6" id="nodbi-096">nodbi 0.9.6<a class="anchor" aria-label="anchor" href="#nodbi-096"></a></h2><p class="text-muted">CRAN release: 2023-08-07</p>
<div class="section level3">
<h3 id="bug-fixes-0-9-6">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-6"></a></h3>
<ul><li>corrected marginal case in <code>docdb_query.src_duckdb()</code>
</li>
<li>corrected minimum R version</li>
<li>replaced in tests <code>httpbin</code> with <code>webfakes</code>
</li>
<li>removed explicit UTF-8 encoding reference</li>
<li>speed up in <code><a href="../reference/docdb_query.html">docdb_query()</a></code>
</li>
<li>switched to v2 GitHub r-lib/action for R CMD check</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.5" id="nodbi-095">nodbi 0.9.5<a class="anchor" aria-label="anchor" href="#nodbi-095"></a></h2><p class="text-muted">CRAN release: 2023-05-26</p>
<div class="section level3">
<h3 id="changes-0-9-5">Changes<a class="anchor" aria-label="anchor" href="#changes-0-9-5"></a></h3>
<ul><li>replaced a dependency, gained speed</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.4" id="nodbi-094">nodbi 0.9.4<a class="anchor" aria-label="anchor" href="#nodbi-094"></a></h2><p class="text-muted">CRAN release: 2023-05-14</p>
<div class="section level3">
<h3 id="bug-fixes-0-9-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-4"></a></h3>
<ul><li>fix initialisation in <code><a href="../reference/docdb_query.html">docdb_query()</a></code> with <code><a href="../reference/src_duckdb.html">src_duckdb()</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.3" id="nodbi-093">nodbi 0.9.3<a class="anchor" aria-label="anchor" href="#nodbi-093"></a></h2><p class="text-muted">CRAN release: 2023-04-23</p>
<div class="section level3">
<h3 id="changes-0-9-3">Changes<a class="anchor" aria-label="anchor" href="#changes-0-9-3"></a></h3>
<ul><li>
<code><a href="../reference/docdb_update.html">docdb_update()</a></code> now can do bulk updates when _id’s are in <code>value</code> (for SQLite, DuckDB, PostgreSQL, MongoDB; not yet for CouchDB and Elastic)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-3"></a></h3>
<ul><li>fix tests for value parameter to be a file or an url</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.2" id="nodbi-092">nodbi 0.9.2<a class="anchor" aria-label="anchor" href="#nodbi-092"></a></h2><p class="text-muted">CRAN release: 2023-03-26</p>
<div class="section level3">
<h3 id="bug-fixes-0-9-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-2"></a></h3>
<ul><li>
<code><a href="../reference/src_duckdb.html">src_duckdb()</a></code> handles when json_type returns NULL for non-existing path</li>
<li>
<code><a href="../reference/src_sqlite.html">src_sqlite()</a></code> handles when text includes double quotation marks</li>
</ul></div>
<div class="section level3">
<h3 id="changes-0-9-2">Changes<a class="anchor" aria-label="anchor" href="#changes-0-9-2"></a></h3>
<ul><li>added warning if DuckDB’s JSON extension is not available; improve instructions; see also issue <a href="https://github.com/ropensci/nodbi/issues/45" class="external-link">#45</a></li>
<li>minor simplification of <code><a href="../reference/docdb_exists.html">docdb_exists()</a></code> for <code><a href="../reference/src_mongo.html">src_mongo()</a></code>, and of <code><a href="../reference/docdb_query.html">docdb_query()</a></code> for SQL databases</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.1" id="nodbi-091">nodbi 0.9.1<a class="anchor" aria-label="anchor" href="#nodbi-091"></a></h2><p class="text-muted">CRAN release: 2022-11-20</p>
<div class="section level3">
<h3 id="changes-0-9-1">Changes<a class="anchor" aria-label="anchor" href="#changes-0-9-1"></a></h3>
<ul><li>corrected closing connections to SQL database backends upon session restart</li>
<li>improved provisions for parallel write access and corresponding tests</li>
<li>capture marginal case of no rows in <code><a href="../reference/docdb_query.html">docdb_query()</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0" id="nodbi-090">nodbi 0.9.0<a class="anchor" aria-label="anchor" href="#nodbi-090"></a></h2><p class="text-muted">CRAN release: 2022-10-31</p>
<div class="section level3">
<h3 id="changes-0-9-0">Changes<a class="anchor" aria-label="anchor" href="#changes-0-9-0"></a></h3>
<ul><li>adding support for duckdb (R package version 0.6.0 or higher) as database backend</li>
<li>suppressed warnings when checking if a string points to a file</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.1" id="nodbi-081">nodbi 0.8.1<a class="anchor" aria-label="anchor" href="#nodbi-081"></a></h2><p class="text-muted">CRAN release: 2022-07-01</p>
<div class="section level3">
<h3 id="changes-0-8-1">Changes<a class="anchor" aria-label="anchor" href="#changes-0-8-1"></a></h3>
<ul><li>replaced <code><a href="https://rdrr.io/r/base/class.html" class="external-link">isa()</a></code> as not available with R version 3.x</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.0" id="nodbi-080">nodbi 0.8.0<a class="anchor" aria-label="anchor" href="#nodbi-080"></a></h2><p class="text-muted">CRAN release: 2022-06-12</p>
<div class="section level3">
<h3 id="changes-0-8-0">Changes<a class="anchor" aria-label="anchor" href="#changes-0-8-0"></a></h3>
<ul><li>refactored <code>docdb_update.src_couchdb()</code> to use <code>jqr</code>
</li>
<li>adapted <code>docdb_create</code> to accept <code>jsonlite</code>, <code>jsonify</code>, <code>jqr</code> JSON</li>
<li>added details to README</li>
<li>testing (unset LANG, relocate open code, better cleaning up)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="nodbi-071">nodbi 0.7.1<a class="anchor" aria-label="anchor" href="#nodbi-071"></a></h2><p class="text-muted">CRAN release: 2022-05-04</p>
<div class="section level3">
<h3 id="bug-fixes-0-7-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-1"></a></h3>
<ul><li>fixed <code><a href="../reference/docdb_query.html">docdb_query()</a></code> to account for change in SQLite 3.38.3 adding quotation of labels (closes issue <a href="https://github.com/ropensci/nodbi/issues/44" class="external-link">#44</a>), test added</li>
<li>made <code><a href="../reference/docdb_query.html">docdb_query()</a></code> work for PostgreSQL when a string used with the <code>$in</code> operator has a comma(s), test added</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="nodbi-070">nodbi 0.7.0<a class="anchor" aria-label="anchor" href="#nodbi-070"></a></h2><p class="text-muted">CRAN release: 2022-01-04</p>
<div class="section level3">
<h3 id="improvements-0-7-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-7-0"></a></h3>
<ul><li>
<code><a href="../reference/docdb_create.html">docdb_create()</a></code> now supports file names and http urls as argument <code>value</code> for importing data</li>
<li>
<code><a href="../reference/docdb_create.html">docdb_create()</a></code> (and thus <code><a href="../reference/docdb_update.html">docdb_update()</a></code>) now supports quantifiers (e.g., ‘[a-z]{2,3}’) in regular expressions</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-7-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-0"></a></h3>
<ul><li>for SQLite, return <code>FALSE</code> like other backends when using <code><a href="../reference/docdb_delete.html">docdb_delete()</a></code> for a non-existing container (table, in the case of SQLite)</li>
<li>better handle special characters and encodings under Windows</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="nodbi-060">nodbi 0.6.0<a class="anchor" aria-label="anchor" href="#nodbi-060"></a></h2><p class="text-muted">CRAN release: 2021-12-01</p>
<div class="section level3">
<h3 id="improvements-0-6-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-6-0"></a></h3>
<ul><li>full support for PostgreSQL (using jsonb)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-6-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-6-0"></a></h3>
<ul><li>for SQLite add closing file references also on exit</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="nodbi-051">nodbi 0.5.1<a class="anchor" aria-label="anchor" href="#nodbi-051"></a></h2><p class="text-muted">CRAN release: 2021-11-26</p>
<div class="section level3">
<h3 id="bug-fixes-0-5-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-5-1"></a></h3>
<ul><li>for SQLite under Windows ensure handling of special characters (avoiding encoding conversions with file operations that stream out / in NDJSON)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="nodbi-050">nodbi 0.5.0<a class="anchor" aria-label="anchor" href="#nodbi-050"></a></h2><p class="text-muted">CRAN release: 2021-11-21</p>
<div class="section level3">
<h3 id="improvements-0-5-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-5-0"></a></h3>
<ul><li>identical API for <code>docdb_*()</code> functions so that <code>query</code> and <code>fields</code> parameters can be used across database backends</li>
<li>identical return values across database backends</li>
<li>re-factored recently added functions for RSQLite</li>
<li>re-factored most functions to provide identical API</li>
<li>performance (timing and memory use) profiled and optimised as far as possible</li>
<li>testing now uses the same test file across databases</li>
<li>currently, no more support for redis (no way was found to query and update specific documents in a container)</li>
<li>
<code><a href="../reference/docdb_list.html">docdb_list()</a></code> added as function to list container in database</li>
</ul></div>
<div class="section level3">
<h3 id="notes-0-5-0">Notes<a class="anchor" aria-label="anchor" href="#notes-0-5-0"></a></h3>
<ul><li>Support for complex queries not yet implemented for Elasticsearch</li>
<li>Only root fields (no subitems) returned by Elasticsearch and CouchDB</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.4" id="nodbi-044">nodbi 0.4.4<a class="anchor" aria-label="anchor" href="#nodbi-044"></a></h2>
<div class="section level3">
<h3 id="improvements-0-4-4">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-4-4"></a></h3>
<ul><li>made remaining <code>docdb_*()</code> functions return a logical indicating the success of the function (<code>docdb_create</code>, <code>docdb_delete</code>), or a data frame (<code>docdb_get</code>, <code>docdb_query</code>), or the number of documents affected by the function (<code>docdb_update</code>)</li>
<li>change testing approach</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-4-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-4"></a></h3>
<ul><li>
<code><a href="../reference/docdb_get.html">docdb_get()</a></code> to not return ’_id’ field for <code>src_{sqlite,mongo}</code> since already used for row names</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.3" id="nodbi-043">nodbi 0.4.3<a class="anchor" aria-label="anchor" href="#nodbi-043"></a></h2><p class="text-muted">CRAN release: 2021-07-23</p>
<div class="section level3">
<h3 id="improvements-0-4-3">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-4-3"></a></h3>
<ul><li>
<code>docdb_query.src_sqlite()</code> now handles JSON objects, returning nested lists (<a href="https://github.com/ropensci/nodbi/issues/40" class="external-link">#40</a>)</li>
<li>
<code><a href="../reference/src_sqlite.html">src_sqlite()</a></code> now uses transactions for relevant functions (<a href="https://github.com/ropensci/nodbi/issues/39" class="external-link">#39</a>)</li>
<li>
<code>docdb_update.src_mongo()</code> now returns the number of upserted or matched documents, irrespective of whether they were updated or not</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-4-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-3"></a></h3>
<ul><li>
<code><a href="../reference/docdb_get.html">docdb_get()</a></code> to not return ’_id’ field for <code>src_{sqlite,mongo}</code> since already used for row names</li>
</ul></div>
<div class="section level3">
<h3 id="other-0-4-3">Other<a class="anchor" aria-label="anchor" href="#other-0-4-3"></a></h3>
<ul><li>change of maintainer agreed</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.2" id="nodbi-042">nodbi 0.4.2<a class="anchor" aria-label="anchor" href="#nodbi-042"></a></h2><p class="text-muted">CRAN release: 2021-01-14</p>
<div class="section level3">
<h3 id="bug-fixes-0-4-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-2"></a></h3>
<ul><li>fix for <code><a href="../reference/src_couchdb.html">src_couchdb()</a></code>: we were not setting user and password correctly internally, was causing issues in CouchDB v3 (<a href="https://github.com/ropensci/nodbi/issues/35" class="external-link">#35</a>) thanks to <a href="https://github.com/drtagkim" class="external-link">@drtagkim</a> for the pull request</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="nodbi-040">nodbi 0.4.0<a class="anchor" aria-label="anchor" href="#nodbi-040"></a></h2><p class="text-muted">CRAN release: 2019-11-11</p>
<div class="section level3">
<h3 id="improvements-0-4-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-4-0"></a></h3>
<ul><li>in <code><a href="../reference/docdb_query.html">docdb_query()</a></code> and <code><a href="../reference/docdb_get.html">docdb_get()</a></code>, for sqlite source, use a connection instead of a regular file path to avoid certain errors on Windows (<a href="https://github.com/ropensci/nodbi/issues/33" class="external-link">#33</a>) work by <a href="https://github.com/rfhb" class="external-link">@rfhb</a></li>
<li>in <code><a href="../reference/docdb_query.html">docdb_query()</a></code> and <code><a href="../reference/docdb_create.html">docdb_create()</a></code> for sqlite source, fix to handle mixed values of different types (<a href="https://github.com/ropensci/nodbi/issues/34" class="external-link">#34</a>) work by <a href="https://github.com/rfhb" class="external-link">@rfhb</a></li>
<li>some Sys.sleep’s added to Elasticserch eg’s to make sure data is available after creation, and before a data request</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="nodbi-030">nodbi 0.3.0<a class="anchor" aria-label="anchor" href="#nodbi-030"></a></h2><p class="text-muted">CRAN release: 2019-09-18</p>
<div class="section level3">
<h3 id="new-features-0-3-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-3-0"></a></h3>
<ul><li>new author Ralf Herold, with contribution of new functions for working with SQLite/json1. new functions: <code>src_sqlite</code>, <code>print.src_sqlite</code>, <code>docdb_create.src_sqlite</code>, <code>docdb_delete.src_sqlite</code>, <code>docdb_exists.src_sqlite</code>, <code>docdb_get.src_sqlite</code>, <code>docdb_query.src_sqlite</code>, and <code>docdb_update.src_sqlite</code>. includes new dataset <code>contacts</code> (<a href="https://github.com/ropensci/nodbi/issues/25" class="external-link">#25</a>) (<a href="https://github.com/ropensci/nodbi/issues/27" class="external-link">#27</a>) (<a href="https://github.com/ropensci/nodbi/issues/28" class="external-link">#28</a>) (<a href="https://github.com/ropensci/nodbi/issues/29" class="external-link">#29</a>) (<a href="https://github.com/ropensci/nodbi/issues/30" class="external-link">#30</a>) (<a href="https://github.com/ropensci/nodbi/issues/31" class="external-link">#31</a>)</li>
<li>
<code>docdb_update</code> gains method for working with MongoDB, via (<a href="https://github.com/ropensci/nodbi/issues/27" class="external-link">#27</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-3-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-3-0"></a></h3>
<ul><li>added <code>.github</code> files in the source repository to facilitate contributions</li>
<li>
<code>src_mongo</code> changes, improved behavior, via (<a href="https://github.com/ropensci/nodbi/issues/27" class="external-link">#27</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="defunct-0-3-0">Defunct<a class="anchor" aria-label="anchor" href="#defunct-0-3-0"></a></h3>
<ul><li>
<code>etcd</code> (via the <code>etseed</code> package) integration has been removed from this package as etcd doesn’t really fit the main goal of the pkg. functions now defunct are: <code>src_etcd</code>, <code>docdb_create.src_etcd</code>, <code>docdb_delete.src_etcd</code>, <code>docdb_exists.src_etcd</code>, <code>docdb_get.src_etcd</code>, and <code>print.src_etcd</code> (<a href="https://github.com/ropensci/nodbi/issues/26" class="external-link">#26</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="nodbi-020">nodbi 0.2.0<a class="anchor" aria-label="anchor" href="#nodbi-020"></a></h2><p class="text-muted">CRAN release: 2019-04-13</p>
<div class="section level3">
<h3 id="new-features-0-2-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-2-0"></a></h3>
<ul><li>
<code><a href="../reference/docdb_get.html">docdb_get()</a></code> gains <code>limit</code> parameter to do pagination, for CouchDB, Elasticsearch and MongoDB only (<a href="https://github.com/ropensci/nodbi/issues/17" class="external-link">#17</a>) (<a href="https://github.com/ropensci/nodbi/issues/23" class="external-link">#23</a>)</li>
<li>gains function <code><a href="../reference/docdb_query.html">docdb_query()</a></code> to send queries to each backend (<a href="https://github.com/ropensci/nodbi/issues/18" class="external-link">#18</a>) (<a href="https://github.com/ropensci/nodbi/issues/22" class="external-link">#22</a>)</li>
<li>gains function <code><a href="../reference/docdb_exists.html">docdb_exists()</a></code> to check if a database or equivalent exists (<a href="https://github.com/ropensci/nodbi/issues/21" class="external-link">#21</a>) (<a href="https://github.com/ropensci/nodbi/issues/22" class="external-link">#22</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-2-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-2-0"></a></h3>
<ul><li>Updated package for new version of <code>elastic</code>, which has slightly different setup for connecting to the Elasticsearch instance (<a href="https://github.com/ropensci/nodbi/issues/20" class="external-link">#20</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="nodbi-010">nodbi 0.1.0<a class="anchor" aria-label="anchor" href="#nodbi-010"></a></h2><p class="text-muted">CRAN release: 2018-08-01</p>
<div class="section level3">
<h3 id="new-features-0-1-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-1-0"></a></h3>
<ul><li>released to CRAN</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ralf Herold, Scott Chamberlain, Rich FitzJohn, Jeroen Ooms.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

